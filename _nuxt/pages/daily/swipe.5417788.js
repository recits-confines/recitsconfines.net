(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{306:function(t,e,r){var content=r(312);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(78).default)("6e509979",content,!0,{sourceMap:!1})},307:function(t,e,r){var content=r(314);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(78).default)("0060f929",content,!0,{sourceMap:!1})},311:function(t,e,r){"use strict";var n=r(306);r.n(n).a},312:function(t,e,r){(e=r(77)(!1)).push([t.i,".h-30[data-v-680245b0]{height:30rem}",""]),t.exports=e},313:function(t,e,r){"use strict";var n=r(307);r.n(n).a},314:function(t,e,r){(e=r(77)(!1)).push([t.i,".card[data-v-f6e6ea7c]{display:none;position:absolute;top:0;width:100%;transition-duration:1s;transition-timing-function:cubic-bezier(0,0,.2,1);transition-property:padding-top}.card-inner[data-v-f6e6ea7c]{width:100%;border-radius:.5rem;--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity));margin-left:auto;margin-right:auto;padding:2.5rem;transition-property:transform;transition-timing-function:cubic-bezier(0,0,.2,1);box-shadow:0 0 10px rgba(0,0,0,.2);height:24rem}.card-content[data-v-f6e6ea7c],.card-inner[data-v-f6e6ea7c]{display:flex;flex-direction:column;transition-duration:1s}.card-content[data-v-f6e6ea7c]{flex-grow:1;justify-content:space-around;align-items:center;text-align:center;opacity:0;transition-property:opacity;transition-timing-function:cubic-bezier(0,0,.2,1)}.card[data-v-f6e6ea7c]:nth-last-of-type(3),.card[data-v-f6e6ea7c]:nth-last-of-type(4){display:flex;padding-top:0}.card:nth-last-of-type(4) .card-inner[data-v-f6e6ea7c]{transform:scale(.7)}.card:nth-last-of-type(3) .card-inner[data-v-f6e6ea7c]{transform:scale(.8)}.card[data-v-f6e6ea7c]:nth-last-of-type(2){display:flex;padding-top:2rem}.card:nth-last-of-type(2) .card-inner[data-v-f6e6ea7c]{opacity:1;transform:scale(.9)}.card[data-v-f6e6ea7c]:last-of-type{display:flex;padding-top:4rem}.card:last-of-type .card-content[data-v-f6e6ea7c]{opacity:1}",""]),t.exports=e},315:function(t){t.exports=JSON.parse('[{"name":"_training","context":"Pour répondre","body":"<b>Oui</b> ✔ ➡<br><br>⬅ <b>Non</b> ❌<br><br>◀ <b>Retour arrière</b>"},{"name":"inquiet","body":"Je suis inquiet","icon":"😕"},{"name":"inquietProches","body":"Inquiet pour la santé de mes proches","icon":"👨‍👩‍👧‍👦","relates":"inquiet"},{"name":"inquietFinances","body":"Inquiet pour mes conditions financières","icon":"💰","relates":"inquiet"},{"name":"inquietSanitaire","body":"Inquiet pour la situation sanitaire","icon":"😷","relates":"inquiet"},{"name":"sommeil","body":"J’ai bien dormi","icon":"😴"},{"name":"alcohol","body":"J’ai consommé de l\'alcool","icon":"🍷"},{"name":"alcoholPlus","body":"J’en ai consommé plus qu\'hier","icon":"🍷🍷","relates":"alcohol"},{"name":"tobacco","body":"J’ai consommé du tabac","icon":"🚬"},{"name":"sortie","body":"Je suis sorti","icon":"🌳"},{"name":"sortieSport","body":"Pour faire du sport","icon":"🏃","relates":"sortie"},{"name":"sortieCourses","body":"Pour acheter de la nourriture","icon":"🍞","relates":"sortie"},{"name":"sortieChien","body":"Pour promener le chien","icon":"🐶","relates":"sortie"},{"name":"sortieTravail","body":"Pour aller travailler","icon":"💼","relates":"sortie"},{"name":"sortieAutre","body":"Pour une autre raison","icon":"🏙","relates":"sortie"},{"name":"livraison","body":"J’ai fait des achats en ligne","icon":"🚚"},{"name":"livraisonNourriture","body":"Des provisions de nourriture","icon":"🍅","relates":"livraison"},{"name":"livraisonAutre","body":"Autre chose que de la nourriture","icon":"📦","relates":"livraison"},{"name":"livraisonOnline","body":"J’achète plus en ligne qu’avant","icon":"💳","relates":"livraison"},{"name":"routineDouche","body":"Je me suis douché/habillé","icon":"🚿"},{"name":"devoir","body":"J’ai aidé aux devoirs des enfants","icon":"📚"},{"name":"menageBrico","body":"J’ai bricolé ou fais le ménage","icon":"🔧"},{"name":"sportDomicile","body":"J’ai fait du sport à la maison","icon":"🏋"}]')},318:function(t,e,r){"use strict";r.r(e);r(51),r(28),r(29),r(17),r(43);var n=r(21),o=(r(20),r(4)),c=r(65),l=r(117);var d=r(152);function h(t){return function(t){if(Array.isArray(t))return Object(l.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(d.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r(33);var f={props:{config:{type:Object,default:function(){}}},data:function(){return{stack:null,cards:[],observer:null}},mounted:function(){var t=this;this.stack=this.$swing.Stack(this.config||{}),Array.prototype.slice.call(this.$el.children).forEach((function(e){t.cards.push(t.stack.createCard(e,!1))})),this.observer=new MutationObserver((function(e){var r=[],n=[];e.forEach((function(t){var e=t.addedNodes,o=t.removedNodes;r.push.apply(r,h(e)),n.push.apply(n,h(o))})),r.forEach((function(e){var i=n.indexOf(e);-1===i?null===t.stack.getCard(e)&&t.cards.push(t.stack.createCard(e,!1)):n.splice(i,1)})),n.forEach((function(e){var r=t.stack.getCard(e);null!==r&&(t.cards.splice(t.cards.indexOf(r),1),t.stack.destroyCard(r))}))})),this.observer.observe(this.$el,{childList:!0});for(var e=function(){var e=n[r];t.stack.on(e,(function(r){t.$emit(e,r)}))},r=0,n=["throwout","throwoutend","throwoutdown","throwoutleft","throwoutright","throwoutup","throwin","throwinend","dragstart","dragmove","dragend","destroyCard"];r<n.length;r++)e()},beforeDestroy:function(){this.observer.disconnect()}},m=(r(311),r(12)),v=Object(m.a)(f,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"relative flex-shrink-0 w-10/12 sm:w-64 h-30"},[this._t("default")],2)}),[],!1,null,"680245b0",null).exports,w={props:{name:{type:String,default:""},context:{type:String,default:"Aujourd'hui,"},body:{type:String,default:""},icon:{type:String,default:""}}},y=(r(313),{components:{Swing:v,Card:Object(m.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-inner"},[r("div",{staticClass:"card-content"},[t._t("default",[r("p",{staticClass:"text-xs font-semibold"},[t._v("\n          "+t._s(t.context)+"\n        ")]),t._v(" "),t.icon?r("p",{staticClass:"text-xl font-light my-2"},[t._v("\n          "+t._s(t.body)+"\n        ")]):r("div",{staticClass:"text-xl font-light my-2",domProps:{innerHTML:t._s(t.body)}}),t._v(" "),t.icon?r("p",{staticClass:"text-6xl"},[t._v("\n          "+t._s(t.icon)+"\n        ")]):t._e()])],2)])])}),[],!1,null,"f6e6ea7c",null).exports},props:{cardList:{type:Array,default:function(){return[]}},carrousel:{type:Boolean,default:!1}},data:function(){return{config:{allowedDirections:[],throwOutDistance:function(){return 500},throwOutConfidence:function(t,e,element){var r=Math.min(2*Math.abs(t)/element.offsetWidth,1),n=Math.min(2*Math.abs(e)/element.offsetHeight,1);return Math.max(r,n)}},current:{},answers:{},cards:this.cardList,previous:[]}},beforeMount:function(){this.config.allowedDirections=[this.$swing.Direction.LEFT,this.$swing.Direction.RIGHT],this.answers=this.cards.reduce((function(t,e){return t[e.name]=null,t}),{}),this.current=this.cards[this.cards.length-1]},beforeDestroy:function(){this.current={},this.answers={},this.cards=[],this.previous=[]},methods:{onThrowOut:function(t){var e,r,n=this;t.target;switch(t.throwDirection){case this.$swing.Direction.LEFT:this.answers[this.current.name]=!1,(e=this.previous).push.apply(e,h(this.cards.filter((function(t){return t.negative===n.current.name})))),this.cards=this.cards.filter((function(t){return t.negative!==n.current.name}));break;case this.$swing.Direction.RIGHT:this.answers[this.current.name]=!0,(r=this.previous).push.apply(r,h(this.cards.filter((function(t){return t.positive===n.current.name})))),this.cards=this.cards.filter((function(t){return t.positive!==n.current.name}))}},onThrowOutEnd:function(){this.previous.push(this.cards.pop()),this.cards.length<1?this.carrousel?(this.cards=this.cardList,this.previous=[]):this.$emit("submit",this.answers):this.current=this.cards[this.cards.length-1]},keySwing:function(t){switch(t.srcKey){case"up":break;case"right":this.swingRight();break;case"left":this.swingLeft()}},swingRight:function(){var t,e=null!==(t=this.$refs.swing.cards)&&void 0!==t?t:[];e.length>0&&e[e.length-1].throwOut(0,0,this.$swing.Direction.RIGHT)},swingLeft:function(){var t,e=null!==(t=this.$refs.swing.cards)&&void 0!==t?t:[];this.carrousel?this.swingBack():e.length>0&&e[e.length-1].throwOut(0,0,this.$swing.Direction.LEFT)},swingUp:function(){var t,e=null!==(t=this.$refs.swing.cards)&&void 0!==t?t:[];e.length>0&&e[e.length-1].throwOut(0,0,this.$swing.Direction.UP)},swingBack:function(){if(this.previous.length>0){var t,e=this.previous.pop();(t=this.cards).push.apply(t,h(this.previous.filter((function(t){return t.positive===e.name||t.negative===e.name})))),this.previous=this.previous.filter((function(t){return t.positive!==e.name&&t.negative!==e.name})),this.cards.push(e),this.current=this.cards[this.cards.length-1]}}}}),x=Object(m.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex-grow flex flex-col justify-between"},[r("div",{directives:[{name:"shortkey",rawName:"v-shortkey",value:{up:["arrowup"],right:["arrowright"],left:["arrowleft"]},expression:"{up: ['arrowup'], right: ['arrowright'], left: ['arrowleft']}"}],staticClass:"flex items-center justify-center",on:{shortkey:t.keySwing}},[r("div",{staticClass:"flex-1 flex-grow-0 flex flex-col items-end -mr-5 sm:mr-5 z-10"},[t.carrousel?t._e():r("button",{staticClass:"mt-4 flex-1 flex-grow-0 bg-indigo-800 text-white focus:outline-none rounded-full py-10 pl-16 pr-4 sm:p-6",on:{click:t.swingLeft}},[r("svg",{staticClass:"fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 41.93 41.93"}},[r("rect",{attrs:{width:"55.02",height:"10.32",x:"-6.55",y:"15.8",rx:"5.16",transform:"rotate(-45 20.97 20.96)"}}),t._v(" "),r("rect",{attrs:{width:"10.32",height:"55.02",x:"15.8",y:"-6.55",rx:"5.16",transform:"rotate(-45 20.97 20.96)"}})])]),t._v(" "),r("button",{staticClass:"-mt-4 z-10 bg-indigo-800 text-white focus:outline-none rounded-full border-2 border-white p-2",on:{click:t.swingBack}},[r("svg",{staticClass:"fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 26.12 43.5"}},[r("path",{attrs:{d:"M21.72 43.5a4.21 4.21 0 01-3.06-1.28L1.27 24.84a4.4 4.4 0 010-6.18L18.66 1.27a4.37 4.37 0 016.18 6.18L10.51 21.77l14.33 14.32a4.4 4.4 0 010 6.18 4.58 4.58 0 01-3.12 1.23z"}})])])]),t._v(" "),r("Swing",{ref:"swing",attrs:{config:t.config},on:{throwout:t.onThrowOut,throwoutend:t.onThrowOutEnd}},t._l(t.cards,(function(e){return r("Card",t._b({key:e.name},"Card",e,!1))})),1),t._v(" "),r("button",{staticClass:"flex-1 flex-grow-0 -ml-5 sm:ml-5 z-10 bg-green-600 text-white focus:outline-none rounded-full py-10 pr-16 pl-4 sm:p-6",on:{click:t.swingRight}},[(t.carrousel,r("svg",{staticClass:"fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 46.22 43.34"}},[r("path",{attrs:{d:"M42.62.37C28.87 9 15.49 25.4 15.49 25.4a105.79 105.79 0 00-8.62-8 4.19 4.19 0 00-6 5.78A107.32 107.32 0 0112 41.05a4.13 4.13 0 005.54 1.85 4.08 4.08 0 001.81-1.77C27.94 25 35.35 16 45.66 3.85a2.34 2.34 0 00-3-3.48z"}})]))])],1),t._v(" "),r("div",{staticClass:"flex justify-center py-5"},[t._l(t.previous,(function(t){return r("div",{key:t.name,staticClass:"w-1 h-1 ml-1 rounded-full bg-secondary"})})),t._v(" "),t._l(t.cards,(function(t,e){return r("div",{key:t.name,staticClass:"w-1 h-1 ml-1 rounded-full",class:{"bg-white":0===e,"bg-secondary":0!==e}})}))],2)])}),[],!1,null,"e9d52110",null).exports,O=r(315);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={components:{Swipe:x},data:function(){return{cards:O.reverse()}},beforeMount:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$db.daily.get();case 2:if(!e.sent){e.next=6;break}t.$router.push("/daily/end"),e.next=7;break;case 6:"daily"!==t.$store.state.report.type&&t.$router.push("/daily");case 7:case"end":return e.stop()}}),e)})))()},methods:C(C({},Object(c.b)({save:"report/save",store:"report/store"})),{},{onSubmit:function(data){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$nuxt.$loading.start(),e.next=3,t.save(data);case 3:return e.next=5,t.store();case 5:t.$router.push("/daily/end"),t.$nuxt.$loading.finish();case 7:case"end":return e.stop()}}),e)})))()}})},j=Object(m.a)(_,(function(){var t=this.$createElement;return(this._self._c||t)("Swipe",{attrs:{"card-list":this.cards},on:{submit:this.onSubmit}})}),[],!1,null,"4ac0c1c2",null);e.default=j.exports}}]);
//# sourceMappingURL=swipe.5417788.js.map